on: [push]

jobs:
  test:
    runs-on: ubuntu-latest
    name: Assert origin/out-of-date
    steps:

      - name: Git checkout
        uses: Brightspace/third-party-actions@actions/checkout
        with:
            fetch-depth: 0

      - name: Assert Git Remote Ref
        uses: Brightspace/assert-git-remote-ref-action@master
        id: assert
        continue-on-error: true
        with:
          remote: origin
          ref: out-of-date

      - name: Verify failed
        if: ${{ steps.assert.conclusion != 'failure' )}}
        run: exit 1